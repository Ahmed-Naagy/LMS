(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{cRhG:function(e,r,n){"use strict";n.r(r),n.d(r,"ProfileModule",function(){return X});var t=n("3Pt+"),i=n("ofXK"),s=n("tyNb"),o=n("fXoL");let c=(()=>{class e{}return e.\u0275fac=function(r){return new(r||e)},e.\u0275cmp=o.Gb({type:e,selectors:[["ng-component"]],decls:3,vars:0,consts:[[1,"p-4"],[1,"container"]],template:function(e,r){1&e&&(o.Rb(0,"div",0),o.Rb(1,"div",1),o.Nb(2,"router-outlet"),o.Qb(),o.Qb())},directives:[s.g],encapsulation:2}),e})();var b=n("J9tS");let d=(()=>{class e{constructor(e){this.accountService=e,this.account=this.accountService.accountValue}}return e.\u0275fac=function(r){return new(r||e)(o.Mb(b.a))},e.\u0275cmp=o.Gb({type:e,selectors:[["ng-component"]],decls:13,vars:4,consts:[["routerLink","update"]],template:function(e,r){1&e&&(o.Rb(0,"h1"),o.sc(1,"My Profile"),o.Qb(),o.Rb(2,"p"),o.Rb(3,"strong"),o.sc(4,"Name: "),o.Qb(),o.sc(5),o.Nb(6,"br"),o.Rb(7,"strong"),o.sc(8,"Email: "),o.Qb(),o.sc(9),o.Qb(),o.Rb(10,"p"),o.Rb(11,"a",0),o.sc(12,"Update Profile"),o.Qb(),o.Qb()),2&e&&(o.zb(5),o.wc(" ",r.account.fname," ",r.account.mname," ",r.account.lname,""),o.zb(4),o.uc(" ",r.account.email,"\n"))},directives:[s.e],encapsulation:2}),e})();var a=n("SxV6"),u=n("XgRA");function l(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"First Name is required"),o.Qb())}function f(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,l,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.fname.errors.required)}}function m(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Title is required"),o.Qb())}function g(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,m,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.mname.errors.required)}}function p(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Last Name is required"),o.Qb())}function v(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,p,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.lname.errors.required)}}function R(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Last Name is required"),o.Qb())}function Q(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,R,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.nationalID.errors.required)}}function h(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Email is required"),o.Qb())}function z(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Email must be a valid email address"),o.Qb())}function C(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,h,2,0,"div",22),o.rc(2,z,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.email.errors.required),o.zb(1),o.gc("ngIf",e.f.email.errors.email)}}function I(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Role is required"),o.Qb())}function N(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,I,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.role.errors.required)}}function q(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Role is required"),o.Qb())}function w(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,q,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.role.relegion.required)}}function k(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"First Name is required"),o.Qb())}function y(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,k,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.phone_1.errors.required)}}function P(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"First Name is required"),o.Qb())}function A(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,P,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.phone_2.errors.required)}}function S(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Last Name is required"),o.Qb())}function M(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,S,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.currentAddress.errors.required)}}function L(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Last Name is required"),o.Qb())}function _(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,L,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.permanentAddress.errors.required)}}function x(e,r){1&e&&(o.Rb(0,"div"),o.Rb(1,"h3",32),o.sc(2,"Change Password"),o.Qb(),o.Rb(3,"p"),o.sc(4,"Leave blank to keep the same password"),o.Qb(),o.Qb())}function D(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Password is required"),o.Qb())}function j(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Password must be at least 6 characters"),o.Qb())}function G(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,D,2,0,"div",22),o.rc(2,j,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.password.errors.required),o.zb(1),o.gc("ngIf",e.f.password.errors.minlength)}}function F(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Confirm Password is required"),o.Qb())}function J(e,r){1&e&&(o.Rb(0,"div"),o.sc(1,"Passwords must match"),o.Qb())}function O(e,r){if(1&e&&(o.Rb(0,"div",31),o.rc(1,F,2,0,"div",22),o.rc(2,J,2,0,"div",22),o.Qb()),2&e){const e=o.bc();o.zb(1),o.gc("ngIf",e.f.confirmPassword.errors.required),o.zb(1),o.gc("ngIf",e.f.confirmPassword.errors.mustMatch)}}function V(e,r){1&e&&o.Nb(0,"span",33)}function E(e,r){1&e&&o.Nb(0,"span",33)}const U=function(e){return{"is-invalid":e}},B=[{path:"",component:c,children:[{path:"",component:d},{path:"update",component:(()=>{class e{constructor(e,r,n,t,i){this.formBuilder=e,this.route=r,this.router=n,this.accountService=t,this.alertService=i,this.account=this.accountService.accountValue,this.loading=!1,this.submitted=!1,this.deleting=!1}ngOnInit(){this.id=this.account.id.toString(),this.isAddMode=!this.id,this.form=this.formBuilder.group({fname:["",t.n.required],mname:["",t.n.required],lname:["",t.n.required],gender:["",t.n.required],relegion:["",t.n.required],email:["",[t.n.required,t.n.email]],role:["",t.n.required],phone_1:["",t.n.required],phone_2:[""],permanentAddress:["",t.n.required],currentAddress:["",t.n.required],nationalID:["",t.n.required],password:["",[t.n.minLength(6),this.isAddMode?t.n.required:t.n.nullValidator]],confirmPassword:[""]},{validator:Object(u.d)("password","confirmPassword")}),this.isAddMode||this.accountService.getById(this.id).pipe(Object(a.a)()).subscribe(e=>this.form.patchValue(e))}get f(){return this.form.controls}onSubmit(){this.submitted=!0,this.alertService.clear(),this.form.invalid||(this.loading=!0,this.accountService.update(this.account.id,this.form.value).pipe(Object(a.a)()).subscribe({next:()=>{this.alertService.success("Update successful",{keepAfterRouteChange:!0}),this.router.navigate(["../"],{relativeTo:this.route})},error:e=>{this.alertService.error(e),this.loading=!1}}))}onDelete(){confirm("Are you sure?")&&(this.deleting=!0,this.accountService.delete(this.account.id).pipe(Object(a.a)()).subscribe(()=>{this.alertService.success("Account deleted successfully",{keepAfterRouteChange:!0})}))}}return e.\u0275fac=function(r){return new(r||e)(o.Mb(t.c),o.Mb(s.a),o.Mb(s.c),o.Mb(b.a),o.Mb(b.b))},e.\u0275cmp=o.Gb({type:e,selectors:[["ng-component"]],decls:92,vars:58,consts:[[3,"formGroup","ngSubmit"],[1,"form-row"],[1,"form-group","col-sm-12","col-md-6","col-lg-3"],["type","text","formControlName","fname",1,"form-control",3,"ngClass"],["class","invalid-feedback",4,"ngIf"],["type","text","formControlName","mname",1,"form-control",3,"ngClass"],["type","text","formControlName","lname",1,"form-control",3,"ngClass"],["type","text","formControlName","nationalID",1,"form-control",3,"ngClass"],[1,"form-group","col-sm-12","col-md-6"],["type","text","formControlName","email",1,"form-control",3,"ngClass"],[1,"form-group","col-sm-12","col-md-3"],["formControlName","gender",1,"form-control",3,"ngClass"],["value",""],["value","Male"],["value","Female"],["formControlName","relegion",1,"form-control",3,"ngClass"],["value","Muslim"],["value","Christian"],["type","tel","formControlName","phone_1",1,"form-control",3,"ngClass"],["type","tel","formControlName","phone_2",1,"form-control",3,"ngClass"],["type","text","formControlName","currentAddress",1,"form-control",3,"ngClass"],["type","text","formControlName","permanentAddress",1,"form-control",3,"ngClass"],[4,"ngIf"],[1,"form-group","col"],["type","password","formControlName","password",1,"form-control",3,"ngClass"],["type","password","formControlName","confirmPassword",1,"form-control",3,"ngClass"],[1,"form-group"],["type","submit",1,"btn","btn-primary","mr-2",3,"disabled"],["class","spinner-border spinner-border-sm mr-1",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"disabled","click"],["routerLink","../","href","",1,"btn","btn-link"],[1,"invalid-feedback"],[1,"pt-3"],[1,"spinner-border","spinner-border-sm","mr-1"]],template:function(e,r){1&e&&(o.Rb(0,"h1"),o.sc(1,"Update Profile"),o.Qb(),o.Rb(2,"form",0),o.Yb("ngSubmit",function(){return r.onSubmit()}),o.Rb(3,"div",1),o.Rb(4,"div",2),o.Rb(5,"label"),o.sc(6,"First Name"),o.Qb(),o.Nb(7,"input",3),o.rc(8,f,2,1,"div",4),o.Qb(),o.Rb(9,"div",2),o.Rb(10,"label"),o.sc(11,"Middel Name"),o.Qb(),o.Nb(12,"input",5),o.rc(13,g,2,1,"div",4),o.Qb(),o.Rb(14,"div",2),o.Rb(15,"label"),o.sc(16,"Last Name"),o.Qb(),o.Nb(17,"input",6),o.rc(18,v,2,1,"div",4),o.Qb(),o.Rb(19,"div",2),o.Rb(20,"label"),o.sc(21,"National ID"),o.Qb(),o.Nb(22,"input",7),o.rc(23,Q,2,1,"div",4),o.Qb(),o.Qb(),o.Rb(24,"div",1),o.Rb(25,"div",8),o.Rb(26,"label"),o.sc(27,"Email"),o.Qb(),o.Nb(28,"input",9),o.rc(29,C,3,2,"div",4),o.Qb(),o.Rb(30,"div",10),o.Rb(31,"label"),o.sc(32,"Gender"),o.Qb(),o.Rb(33,"select",11),o.Nb(34,"option",12),o.Rb(35,"option",13),o.sc(36,"Male"),o.Qb(),o.Rb(37,"option",14),o.sc(38,"Female"),o.Qb(),o.Qb(),o.rc(39,N,2,1,"div",4),o.Qb(),o.Rb(40,"div",10),o.Rb(41,"label"),o.sc(42,"Relegion"),o.Qb(),o.Rb(43,"select",15),o.Nb(44,"option",12),o.Rb(45,"option",16),o.sc(46,"Muslim"),o.Qb(),o.Rb(47,"option",17),o.sc(48,"Christian"),o.Qb(),o.Qb(),o.rc(49,w,2,1,"div",4),o.Qb(),o.Qb(),o.Rb(50,"div",1),o.Rb(51,"div",10),o.Rb(52,"label"),o.sc(53,"Phone 1"),o.Qb(),o.Nb(54,"input",18),o.rc(55,y,2,1,"div",4),o.Qb(),o.Rb(56,"div",10),o.Rb(57,"label"),o.sc(58,"Phone 2"),o.Qb(),o.Nb(59,"input",19),o.rc(60,A,2,1,"div",4),o.Qb(),o.Rb(61,"div",10),o.Rb(62,"label"),o.sc(63,"Current Address"),o.Qb(),o.Nb(64,"input",20),o.rc(65,M,2,1,"div",4),o.Qb(),o.Rb(66,"div",10),o.Rb(67,"label"),o.sc(68,"Permanent Address"),o.Qb(),o.Nb(69,"input",21),o.rc(70,_,2,1,"div",4),o.Qb(),o.Qb(),o.rc(71,x,5,0,"div",22),o.Rb(72,"div",1),o.Rb(73,"div",23),o.Rb(74,"label"),o.sc(75,"Password"),o.Qb(),o.Nb(76,"input",24),o.rc(77,G,3,2,"div",4),o.Qb(),o.Rb(78,"div",23),o.Rb(79,"label"),o.sc(80,"Confirm Password"),o.Qb(),o.Nb(81,"input",25),o.rc(82,O,3,2,"div",4),o.Qb(),o.Qb(),o.Rb(83,"div",26),o.Rb(84,"button",27),o.rc(85,V,1,0,"span",28),o.sc(86," Update "),o.Qb(),o.Rb(87,"button",29),o.Yb("click",function(){return r.onDelete()}),o.rc(88,E,1,0,"span",28),o.sc(89," Delete "),o.Qb(),o.Rb(90,"a",30),o.sc(91,"Cancel"),o.Qb(),o.Qb(),o.Qb()),2&e&&(o.zb(2),o.gc("formGroup",r.form),o.zb(5),o.gc("ngClass",o.kc(32,U,r.submitted&&r.f.fname.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.fname.errors),o.zb(4),o.gc("ngClass",o.kc(34,U,r.submitted&&r.f.mname.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.mname.errors),o.zb(4),o.gc("ngClass",o.kc(36,U,r.submitted&&r.f.lname.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.lname.errors),o.zb(4),o.gc("ngClass",o.kc(38,U,r.submitted&&r.f.nationalID.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.nationalID.errors),o.zb(5),o.gc("ngClass",o.kc(40,U,r.submitted&&r.f.email.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.email.errors),o.zb(4),o.gc("ngClass",o.kc(42,U,r.submitted&&r.f.gender.errors)),o.zb(6),o.gc("ngIf",r.submitted&&r.f.role.errors),o.zb(4),o.gc("ngClass",o.kc(44,U,r.submitted&&r.f.relegion.errors)),o.zb(6),o.gc("ngIf",r.submitted&&r.f.relegion.errors),o.zb(5),o.gc("ngClass",o.kc(46,U,r.submitted&&r.f.phone_1.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.phone_1.errors),o.zb(4),o.gc("ngClass",o.kc(48,U,r.submitted&&r.f.phone_2.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.phone_2.errors),o.zb(4),o.gc("ngClass",o.kc(50,U,r.submitted&&r.f.currentAddress.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.currentAddress.errors),o.zb(4),o.gc("ngClass",o.kc(52,U,r.submitted&&r.f.permanentAddress.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.PermanentAddress.errors),o.zb(1),o.gc("ngIf",!r.isAddMode),o.zb(5),o.gc("ngClass",o.kc(54,U,r.submitted&&r.f.password.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.password.errors),o.zb(4),o.gc("ngClass",o.kc(56,U,r.submitted&&r.f.confirmPassword.errors)),o.zb(1),o.gc("ngIf",r.submitted&&r.f.confirmPassword.errors),o.zb(2),o.gc("disabled",r.loading),o.zb(1),o.gc("ngIf",r.loading),o.zb(2),o.gc("disabled",r.deleting),o.zb(1),o.gc("ngIf",r.deleting))},directives:[t.p,t.j,t.g,t.b,t.i,t.e,i.i,i.k,t.m,t.k,t.o,s.e],encapsulation:2}),e})()}]}];let K=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(r){return new(r||e)},imports:[[s.f.forChild(B)],s.f]}),e})(),X=(()=>{class e{}return e.\u0275mod=o.Kb({type:e}),e.\u0275inj=o.Jb({factory:function(r){return new(r||e)},imports:[[i.c,t.l,K]]}),e})()}}]);